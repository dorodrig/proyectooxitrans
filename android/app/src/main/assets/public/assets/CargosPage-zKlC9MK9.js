import{e as u,u as L,r as s,c as B,j as e}from"./index-6Tc4nVY8.js";import{u as y}from"./useMutation-BcgxUEpT.js";import{c as g}from"./cargosService-Dp84UuBb.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],j=u("briefcase",T);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],W=u("circle-alert",Q);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],V=u("circle-check-big",F);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],_=u("pencil",K),$="_pagination_ujyzq_99",G="_btn_ujyzq_106",n={"cargos-crud":"_cargos-crud_ujyzq_1","cargos-table":"_cargos-table_ujyzq_12","edit-btn":"_edit-btn_ujyzq_56","search-bar":"_search-bar_ujyzq_81",pagination:$,btn:G},Y=()=>{const v=L(),[l,z]=s.useState(""),[r,d]=s.useState(1),x=10,{data:p=[],isLoading:S}=B({queryKey:["cargos",l,r],queryFn:async()=>{const o=await g.getAll();return l.trim()?o.filter(I=>I.nombre.toLowerCase().includes(l.toLowerCase())):o}}),N=Math.ceil(p.length/x),D=p.slice((r-1)*x,r*x),[C,t]=s.useState(""),[f,c]=s.useState(""),[a,b]=s.useState(null),[h,i]=s.useState(null),[E,m]=s.useState(null),k=y({mutationFn:o=>g.create(o),onSuccess:()=>{v.invalidateQueries({queryKey:["cargos"]}),t(""),c(""),i("Cargo agregado correctamente"),setTimeout(()=>i(null),2e3)},onError:()=>{m("Error al agregar el cargo"),setTimeout(()=>m(null),2500)}}),q=y({mutationFn:o=>g.update(o.id,{nombre:o.nombre,descripcion:o.descripcion}),onSuccess:()=>{v.invalidateQueries({queryKey:["cargos"]}),b(null),t(""),c(""),i("Cargo actualizado correctamente"),setTimeout(()=>i(null),2e3)},onError:()=>{m("Error al actualizar el cargo"),setTimeout(()=>m(null),2500)}}),w=o=>{b(o.id.toString()),t(o.nombre),c(o.descripcion||"")},M=()=>{b(null),t(""),c("")};return e.jsxDEV("div",{className:n["cargos-crud"],children:[e.jsxDEV("h3",{style:{color:"#c8102e",fontWeight:700,marginBottom:"0.5rem",fontSize:"1.3rem"},children:"Gestionar Cargos"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:83,columnNumber:9},void 0),h&&e.jsxDEV("div",{className:"flex items-center gap-2 p-2 mb-2 bg-green-100 text-green-700 rounded animate-fade-in",children:[e.jsxDEV(V,{size:18},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:86,columnNumber:11},void 0)," ",h]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:85,columnNumber:9},void 0),E&&e.jsxDEV("div",{className:"flex items-center gap-2 p-2 mb-2 bg-red-100 text-red-700 rounded animate-fade-in",children:[e.jsxDEV(W,{size:18},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:91,columnNumber:11},void 0)," ",E]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:90,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:o=>{o.preventDefault(),a?q.mutate({id:a,nombre:C,descripcion:f}):k.mutate({nombre:C,descripcion:f})},children:e.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"1rem",width:"100%"},children:[e.jsxDEV("div",{style:{position:"relative",flex:1},children:[e.jsxDEV("input",{type:"text",placeholder:"Nombre del cargo",value:C,onChange:o=>t(o.target.value),className:n["form-input"],required:!0,style:{paddingLeft:"2.2rem"}},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:104,columnNumber:13},void 0),e.jsxDEV(A,{},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:103,columnNumber:11},void 0),e.jsxDEV("div",{style:{position:"relative",flex:1},children:[e.jsxDEV("input",{type:"text",placeholder:"Descripción",value:f,onChange:o=>c(o.target.value),className:n["form-input"],style:{paddingLeft:"2.2rem"}},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV(P,{},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:124,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:115,columnNumber:11},void 0),e.jsxDEV("button",{type:"submit",className:n["edit-btn"],children:[a?"Actualizar":"Agregar"," ",e.jsxDEV(V,{size:16},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:127,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:126,columnNumber:11},void 0),a&&e.jsxDEV("button",{type:"button",className:n["edit-btn"],style:{background:"#e5e7eb",color:"#222"},onClick:M,children:"Cancelar"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:102,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:94,columnNumber:7},void 0),e.jsxDEV("div",{style:{marginTop:"2rem"},children:[e.jsxDEV("h2",{style:{color:"#c8102e",fontWeight:600,fontSize:"1.1rem",marginBottom:"1rem"},children:"Cargos creados"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:137,columnNumber:9},void 0),S?e.jsxDEV("div",{children:"Cargando cargos..."},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:139,columnNumber:11},void 0):p.length===0?e.jsxDEV("div",{className:"p-4 bg-yellow-50 text-yellow-700 rounded text-center",children:"Aún no existen cargos registrados."},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:141,columnNumber:11},void 0):null,e.jsxDEV("style",{children:`
          .cargo-card {
            transition: box-shadow 0.2s;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(200,16,46,0.07);
          }
          .cargo-card:hover {
            box-shadow: 0 4px 16px rgba(200,16,46,0.15);
            border-color: #c8102e;
          }
        `},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:144,columnNumber:9},void 0),e.jsxDEV("div",{className:n["search-bar"],children:e.jsxDEV("input",{type:"text",placeholder:"Buscar cargo...",value:l,onChange:o=>{z(o.target.value),d(1)},className:n["form-input"],style:{minWidth:"180px"}},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:156,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:155,columnNumber:9},void 0),e.jsxDEV("div",{style:{overflowX:"auto"},children:e.jsxDEV("table",{className:n["cargos-table"],children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{children:"Nombre"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:169,columnNumber:17},void 0),e.jsxDEV("th",{children:"Descripción"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:170,columnNumber:17},void 0),e.jsxDEV("th",{children:"Acción"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:171,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:168,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:167,columnNumber:13},void 0),e.jsxDEV("tbody",{children:D.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:3,style:{textAlign:"center",padding:"2rem",color:"#888"},children:"No se encontraron cargos."},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:177,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:176,columnNumber:17},void 0):D.map(o=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#c8102e",fontWeight:600},children:[e.jsxDEV(j,{size:18},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:183,columnNumber:23},void 0),o.nombre]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:182,columnNumber:21},void 0),e.jsxDEV("td",{children:o.descripcion||"-"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:186,columnNumber:21},void 0),e.jsxDEV("td",{children:e.jsxDEV("button",{className:n["edit-btn"],onClick:()=>w(o),children:[e.jsxDEV(_,{size:14},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:192,columnNumber:25},void 0)," Editar"]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:188,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:187,columnNumber:21},void 0)]},o.id.toString(),!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:181,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:174,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:166,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:165,columnNumber:9},void 0),N>1&&e.jsxDEV("div",{className:n.pagination,children:[e.jsxDEV("button",{className:n.btn,disabled:r===1,onClick:()=>d(r-1),children:"Anterior"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:203,columnNumber:13},void 0),e.jsxDEV("span",{children:["Página ",r," de ",N]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:204,columnNumber:13},void 0),e.jsxDEV("button",{className:n.btn,disabled:r===N,onClick:()=>d(r+1),children:"Siguiente"},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:205,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:202,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:136,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:82,columnNumber:7},void 0);function A(){return e.jsxDEV("span",{style:{position:"absolute",left:"0.7rem",top:"50%",transform:"translateY(-50%)",color:"#c8102e"},children:e.jsxDEV(j,{size:18},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:214,columnNumber:128},this)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:214,columnNumber:12},this)}function P(){return e.jsxDEV("span",{style:{position:"absolute",left:"0.7rem",top:"50%",transform:"translateY(-50%)",color:"#6b7280"},children:e.jsxDEV(_,{size:18},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:217,columnNumber:128},this)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/components/CargosCrud.tsx",lineNumber:217,columnNumber:12},this)}},H=()=>e.jsxDEV("div",{className:"cargos-page max-w-2xl mx-auto py-8",children:e.jsxDEV(Y,{},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/pages/CargosPage.tsx",lineNumber:13,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Development/oxitrans-control-acceso/src/pages/CargosPage.tsx",lineNumber:7,columnNumber:5},void 0);export{H as default};
